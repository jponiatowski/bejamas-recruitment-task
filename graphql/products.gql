fragment product on product {
  bestseller
  category_id
  currency
  description
  featured
  id
  image {
    alt
    height
    id
    size
    src
    width
  }
  name
  price
}

query ProductsQuery($order_by: [product_order_by!] = {}) {
  products(order_by: $order_by) {
    nodes {
      ...product
    }
  }
  featuredProduct: product(where: { featured: { _eq: true } }, limit: 1) {
    ...product
    recommendeds {
      productByRecommendedProductId {
        id
        name
        image {
          alt
          height
          id
          size
          src
          width
        }
      }
    }
  }
}
